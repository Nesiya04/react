{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import emailjs from'@emailjs/browser';import'./contact.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Contact(){useEffect(()=>{if(!sessionStorage.getItem(\"welcomeShown\")){alert(\"Welcome to our page!\");sessionStorage.setItem(\"welcomeShown\",\"true\");}},[]);const form=useRef();const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[mobile,setMobile]=useState(\"\");const[message,setMessage]=useState(\"\");const[submittedData,setSubmittedData]=useState(null);const[errors,setErrors]=useState({});const[isEditing,setIsEditing]=useState(false);const validateInputs=()=>{const newErrors={};if(!/^[A-Za-z\\s]{3,}$/.test(name.trim())){newErrors.name=\"Enter a valid name (letters only, min 3 characters)\";}if(!/^\\S+@\\S+\\.\\S+$/.test(email)){newErrors.email=\"Enter a valid email address\";}if(!/^\\d{10}$/.test(mobile)){newErrors.mobile=\"Enter a valid 10-digit mobile number\";}setErrors(newErrors);return Object.keys(newErrors).length===0;};const sendEmail=e=>{e.preventDefault();if(!validateInputs())return;emailjs.sendForm('service_nyf7imi','template_e48tsk5',form.current,'2iW7NRyt5XKzFdgEg').then(()=>{alert(\"Message sent successfully!\");setSubmittedData({name,email,mobile,message});clearForm();}).catch(()=>alert(\"Failed to send message.\"));};const handleUpdate=e=>{e.preventDefault();if(!validateInputs())return;setSubmittedData({name,email,mobile,message});setIsEditing(false);alert(\"Data updated successfully!\");clearForm();};const handleEdit=()=>{setIsEditing(true);setName(submittedData.name);setEmail(submittedData.email);setMobile(submittedData.mobile);setMessage(submittedData.message);};const handleReset=()=>{setSubmittedData(null);setIsEditing(false);setErrors({});clearForm();};const clearForm=()=>{if(form.current)form.current.reset();setName(\"\");setEmail(\"\");setMobile(\"\");setMessage(\"\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1\",children:\"Contact Us\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h2\",children:[\"Hello \",/*#__PURE__*/_jsx(\"span\",{className:\"name\",children:name||\" \"}),\"!\"]}),(isEditing||!submittedData)&&/*#__PURE__*/_jsxs(\"form\",{ref:form,onSubmit:isEditing?handleUpdate:sendEmail,className:\"contact-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"user_name\",placeholder:\"Your Name...\",value:name,onChange:e=>setName(e.target.value),required:true}),errors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.name}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"user_email\",placeholder:\"Your Email...\",value:email,onChange:e=>setEmail(e.target.value),required:true}),errors.email&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"user_mobile\",placeholder:\"Mobile Number...\",value:mobile,onChange:e=>setMobile(e.target.value),required:true}),errors.mobile&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.mobile}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",placeholder:\"Your Message...\",value:message,onChange:e=>setMessage(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:isEditing?\"Update\":\"Send\"})]}),submittedData&&!isEditing&&/*#__PURE__*/_jsxs(\"div\",{className:\"confirmation-box\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Welcome, \",submittedData.name,\"!\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",submittedData.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Mobile:\"}),\" \",submittedData.mobile]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Message:\"})}),/*#__PURE__*/_jsx(\"blockquote\",{children:submittedData.message}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u2705 Message sent successfully!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"edit-btn\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,className:\"reset-btn\",children:\"Reset\"})]})]})]});}export default Contact;","map":{"version":3,"names":["React","useEffect","useRef","useState","emailjs","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Contact","sessionStorage","getItem","alert","setItem","form","name","setName","email","setEmail","mobile","setMobile","message","setMessage","submittedData","setSubmittedData","errors","setErrors","isEditing","setIsEditing","validateInputs","newErrors","test","trim","Object","keys","length","sendEmail","e","preventDefault","sendForm","current","then","clearForm","catch","handleUpdate","handleEdit","handleReset","reset","children","className","ref","onSubmit","type","placeholder","value","onChange","target","required","onClick"],"sources":["C:/OneDrive/Desktop/react/src/contact.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport emailjs from '@emailjs/browser';\r\nimport './contact.css';\r\n\r\nfunction Contact() {\r\n  useEffect(() => {\r\n    if (!sessionStorage.getItem(\"welcomeShown\")) {\r\n      alert(\"Welcome to our page!\");\r\n      sessionStorage.setItem(\"welcomeShown\", \"true\");\r\n    }\r\n  }, []);\r\n\r\n  const form = useRef();\r\n  const [name, setName] = useState(\"\"); \r\n  const [email, setEmail] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [submittedData, setSubmittedData] = useState(null);\r\n  const [errors, setErrors] = useState({});\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  const validateInputs = () => {\r\n    const newErrors = {};\r\n    if (!/^[A-Za-z\\s]{3,}$/.test(name.trim())) {\r\n      newErrors.name = \"Enter a valid name (letters only, min 3 characters)\";\r\n    }\r\n    if (!/^\\S+@\\S+\\.\\S+$/.test(email)) {\r\n      newErrors.email = \"Enter a valid email address\";\r\n    }\r\n    if (!/^\\d{10}$/.test(mobile)) {\r\n      newErrors.mobile = \"Enter a valid 10-digit mobile number\";\r\n    }\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const sendEmail = (e) => {\r\n    e.preventDefault();\r\n    if (!validateInputs()) return;\r\n\r\n    emailjs.sendForm(\r\n      'service_nyf7imi',\r\n      'template_e48tsk5',\r\n      form.current,\r\n      '2iW7NRyt5XKzFdgEg'\r\n    )\r\n    .then(() => {\r\n      alert(\"Message sent successfully!\");\r\n      setSubmittedData({ name, email, mobile, message });\r\n      clearForm();\r\n    })\r\n    .catch(() => alert(\"Failed to send message.\"));\r\n  };\r\n\r\n  const handleUpdate = (e) => {\r\n    e.preventDefault();\r\n    if (!validateInputs()) return;\r\n    setSubmittedData({ name, email, mobile, message });\r\n    setIsEditing(false);\r\n    alert(\"Data updated successfully!\");\r\n    clearForm();\r\n  };\r\n\r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n    setName(submittedData.name);\r\n    setEmail(submittedData.email);\r\n    setMobile(submittedData.mobile);\r\n    setMessage(submittedData.message);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setSubmittedData(null);\r\n    setIsEditing(false);\r\n    setErrors({});\r\n    clearForm();\r\n  };\r\n\r\n  const clearForm = () => {\r\n    if (form.current) form.current.reset();\r\n    setName(\"\"); \r\n    setEmail(\"\");\r\n    setMobile(\"\"); \r\n    setMessage(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className='h1'>Contact Us</h1>\r\n      <div className=\"contact-container\">\r\n        <h2 className='h2'>\r\n          Hello <span className=\"name\">{name || \" \"}</span>!\r\n        </h2>\r\n\r\n        {/* Form always shows unless editing is off and submittedData is present */}\r\n        {(isEditing || !submittedData) && (\r\n          <form \r\n            ref={form} \r\n            onSubmit={isEditing ? handleUpdate : sendEmail} \r\n            className=\"contact-form\"\r\n          >\r\n            <input type=\"text\" name=\"user_name\" placeholder=\"Your Name...\" value={name} onChange={(e) => setName(e.target.value)} required />\r\n            {errors.name && <span className=\"error\">{errors.name}</span>}\r\n\r\n            <input type=\"email\" name=\"user_email\" placeholder=\"Your Email...\" value={email} onChange={(e) => setEmail(e.target.value)} required />\r\n            {errors.email && <span className=\"error\">{errors.email}</span>}\r\n\r\n            <input type=\"tel\" name=\"user_mobile\" placeholder=\"Mobile Number...\" value={mobile} onChange={(e) => setMobile(e.target.value)} required />\r\n            {errors.mobile && <span className=\"error\">{errors.mobile}</span>}\r\n\r\n            <textarea name=\"message\" placeholder=\"Your Message...\" value={message} onChange={(e) => setMessage(e.target.value)} required></textarea>\r\n\r\n            <button type=\"submit\">{isEditing ? \"Update\" : \"Send\"}</button>\r\n          </form>\r\n        )}\r\n\r\n        {submittedData && !isEditing && (\r\n          <div className=\"confirmation-box\">\r\n            <h3>Welcome, {submittedData.name}!</h3>\r\n            <p><strong>Email:</strong> {submittedData.email}</p>\r\n            <p><strong>Mobile:</strong> {submittedData.mobile}</p>\r\n            <p><strong>Message:</strong></p>\r\n            <blockquote>{submittedData.message}</blockquote>\r\n            <p>âœ… Message sent successfully!</p>\r\n\r\n            <button onClick={handleEdit} className=\"edit-btn\">Edit</button>\r\n            <button onClick={handleReset} className=\"reset-btn\">Reset</button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Contact;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}